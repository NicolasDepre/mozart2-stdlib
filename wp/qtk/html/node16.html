<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML><HEAD><TITLE>5.11 Tdscrollbar and lrscrollbar widgets</TITLE><LINK href="ozdoc.css" rel="stylesheet" type="text/css"></HEAD><BODY><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node15.html#chapter.widgets.scale">&lt;&lt; Prev</A></TD><TD><A href="node5.html">- Up -</A></TD><TD><A href="node17.html#chapter.widgets.space">Next &gt;&gt;</A></TD></TR></TABLE><DIV id="chapter.widgets.scrollbar"><H2><A name="chapter.widgets.scrollbar">5.11 Tdscrollbar and lrscrollbar widgets</A></H2><H3><A name="label38">5.11.1 Description</A></H3><P>A scrollbar is a widget that displays two arrows, one at each end of the scrollbar, and a slider in the middle portion of the scrollbar. <CODE>tdscrollbar</CODE> displays a vertical scrollbar while <CODE>lrscrollbar</CODE> displays an horizontal one. It provides information about what is visible in an associated window that displays an document of some sort (such as a file being edited or a drawing). The position and size of the slider indicate which portion of the document is visible in the associated window. For example, if the slider in a vertical scrollbar covers the top third of the area between the two arrows, it means that the associated window displays the top third of its document. </P><P>Scrollbars can be used to adjust the view in the associated window by clicking or dragging with the mouse.</P><P>Note that some widgets have <CODE>tdscrollbar</CODE> and <CODE>lrscrollbar</CODE> parameters that avoids to explicitly create scrollbar widgets.</P><P><EM>ELEMENTS</EM></P><P>A scrollbar displays five elements, which are referred to in the widget commands for the scrollbar: </P><UL><LI><P><CODE>arrow1</CODE> : The top or left arrow in the scrollbar. </P></LI><LI><P><CODE>trough1</CODE> : The region between the <CODE>slider</CODE> and <CODE>arrow1</CODE>. </P></LI><LI><P><CODE>slider</CODE> : The rectangle that indicates what is visible in the associated widget. </P></LI><LI><P><CODE>trough2</CODE> : The region between the<CODE>&nbsp;slider</CODE> and <CODE>arrow2</CODE>. </P></LI><LI><P><CODE>arrow2</CODE> : The bottom or right arrow in the scrollbar. </P></LI></UL><P> </P><H3><A name="label39">5.11.2 Parameters</A></H3><P></P><UL><LI><P><CODE>activebackground:C</CODE> : Specifies background color to use when drawing active elements. An element (a widget or portion of a widget) is active if the mouse cursor is positioned over the element and pressing a mouse button will cause some action to occur. For some elements on Windows and Macintosh systems, the active color will only be used while mouse button 1 is pressed over the element. <CODE>C</CODE> must be a valid color (see <A href="node32.html#misc.color">Section&nbsp;6.1</A>) </P></LI><LI><P><CODE>background:C</CODE> or <CODE>bg:C</CODE> : Specifies the normal background color to use when displaying the widget. <CODE>C</CODE> must be a valid color (see <A href="node32.html#misc.color">Section&nbsp;6.1</A>). </P></LI><LI><P><CODE>borderwidth:P</CODE> : Specifies a non-negative value indicating the width of the 3-D border to draw around the outside of the widget (if such a border is being drawn; the <CODE>relief</CODE> option typically determines this). The value may also be used when drawing 3-D effects in the interior of the widget. <CODE>P</CODE> must be a valid screen distance (see <A href="node37.html#misc.distance">Section&nbsp;6.6</A>). </P></LI><LI><P><CODE>cursor:A</CODE> : Specifies the mouse cursor to be used for the widget. <CODE>A</CODE> must be a valid cursor (see <A href="node38.html#misc.cursor">Section&nbsp;6.7</A>) ;</P></LI><LI><P><CODE>highlightbackground:C</CODE> : Specifies the color to display in the traversal highlight region when the widget does not have the input focus. <CODE>C</CODE> must be a valid color (see <A href="node32.html#misc.color">Section&nbsp;6.1</A>) </P></LI><LI><P><CODE>highlightcolor:C</CODE> : Specifies the color to use for the traversal highlight rectangle that is drawn around the widget when it has the input focus. <CODE>C</CODE> must be a valid color (see <A href="node32.html#misc.color">Section&nbsp;6.1</A>) </P></LI><LI><P><CODE>highlightthickness:P</CODE> : Specifies a non-negative value indicating the width of the highlight rectangle to draw around the outside of the widget when it has the input focus. If the value is zero, no focus highlight is drawn around the widget. <CODE>P</CODE> must be a valid screen distance (see <A href="node37.html#misc.distance">Section&nbsp;6.6</A>). </P></LI><LI><P><CODE>jump:B</CODE> : Specifies when notifications are made about changes in the value. If the value is <CODE><SPAN class="keyword">false</SPAN></CODE>, updates are made continuously as the slider is dragged. If the value is <CODE><SPAN class="keyword">true</SPAN></CODE>, updates are delayed until the mouse button is released to end the drag; at that point a single notification is made (the value ``jumps'' rather than changing smoothly). <CODE>B</CODE> must be a boolean. </P></LI><LI><P><CODE>relief:A</CODE> : Specifies the 3-D effect desired for the widget. Must be one of these atoms : <CODE>raised</CODE>, <CODE>sunken</CODE>, <CODE>flat</CODE>, <CODE>ridge</CODE>, <CODE>solid</CODE> or <CODE>groove</CODE>. The value indicates how the interior of the widget should appear relative to its exterior; for example, <CODE>raised</CODE> means the interior of the widget should appear to protrude from the screen, relative to the exterior of the widget. </P></LI><LI><P><CODE>repeatdelay:I</CODE> : Specifies the number of milliseconds a button or key must be held down before it begins to auto-repeat. Used, for example, on the up- and down-arrows in scrollbars. <CODE>I</CODE> must be an integer. </P></LI><LI><P><CODE>repeatinterval:I</CODE> : Used in conjunction with <CODE>repeatdelay</CODE>: once auto-repeat begins, this option determines the number of milliseconds between auto-repeats. </P></LI><LI><P><CODE>takefocus:B</CODE> : Determines whether the window accepts the focus during keyboard traversal (e.g., Tab and Shift-Tab). Before setting the focus to a window, the traversal mechanims consult the value of the takeFocus option. A value of <CODE><SPAN class="keyword">false</SPAN></CODE> means that the window should be skipped entirely during keyboard traversal. <CODE><SPAN class="keyword">true</SPAN></CODE> means that the window should receive the input focus as long as it is viewable (it and all of its ancestors are mapped). <CODE>B</CODE> must be a boolean. </P></LI><LI><P><CODE>throughcolor:C</CODE> : Specifies the color to use for the rectangular trough areas in widgets such as scrollbars and scales. <CODE>C</CODE> must be a valid color (see <A href="node32.html#misc.color">Section&nbsp;6.1</A>). </P></LI><LI><P><CODE>activerelief:A</CODE> : Specifies the relief to use when displaying the element that is active, if any. Elements other than the active element are always displayed with a raised relief. Must be one of these atoms : <CODE>raised</CODE>, <CODE>sunken</CODE>, <CODE>flat</CODE>, <CODE>ridge</CODE>, <CODE>solid</CODE> or <CODE>groove</CODE>. </P></LI><LI><P><CODE>action:C</CODE> : Specifies an action to execute juste after the user modified the position of the slider of the scrollbar. <CODE>C</CODE> can take several different forms (see <A href="node4.html#basics.events">Section&nbsp;4.3.1</A>). </P></LI><LI><P><CODE>elementborderwidth:P</CODE> : Specifies the width of borders drawn around the internal elements of the scrollbar (the two arrows and the slider).If this value is less than zero, the value of the <CODE>borderwidth</CODE> option is used in its place. <CODE>P</CODE> must be a valid screen distance (see <A href="node37.html#misc.distance">Section&nbsp;6.6</A>). </P></LI><LI><P><CODE>width:P</CODE> : Specifies the desired narrow dimension of the scrollbar window, not including 3-D border, if any. For vertical scrollbars this will be the width and for horizontal scrollbars this will be the height. <CODE>P</CODE> must be a valid screen distance (see <A href="node37.html#misc.distance">Section&nbsp;6.6</A>). </P></LI><LI><P><CODE>glue:A</CODE> : Specifies how a widget must fit in its own available place. <CODE>A</CODE> must be an atom that is any combination of <CODE>n</CODE>, <CODE>s</CODE>, <CODE>w</CODE> and <CODE>e</CODE>. If a direction is specified, the corresponding border is glued to its neighboor or border of the frame if there is no neighboor. If a direction is not specified, the corresponding border if such that the widget takes just the width or height it needs to draw itself. If none of opposite directions is specified, the widget is centered. For more details, see <A href="node4.html#basics.geometry">Section&nbsp;4.1</A>. </P></LI><LI><P><CODE>padx:P</CODE> : Specifies how much horizontal external padding to leave on each side of the widget. This space is added outside the widget border. <CODE>P</CODE> must be a valid screen distance (see <A href="node37.html#misc.distance">Section&nbsp;6.6</A>) </P></LI><LI><P><CODE>pady:P</CODE> : Specifies how much vertical external padding to leave on each side of the widget. This space is added outside the widget border. <CODE>P</CODE> must be a valid screen distance (see <A href="node37.html#misc.distance">Section&nbsp;6.6</A>) </P></LI><LI><P><CODE>feature:A</CODE> : Specifies a feature name for the container object to reference the object controlling this widget. For more details, see <A href="node4.html#basics.interaction">Section&nbsp;4.2</A>. <CODE>A</CODE> must be an atom. </P></LI><LI><P><CODE>handle:V</CODE> : Specifies a variable to reference the object controlling this widget. This variable is binded when the window is built. For more details, see <A href="node4.html#basics.interaction">Section&nbsp;4.2</A>. <CODE>V</CODE> must be a free variable. </P></LI><LI><P><CODE>tooltips:VS</CODE> : Specifies a tooltip for the widget. A tooltip is a small message that appears when the mouse cursor if left still over the widget for a while. If <CODE>VS</CODE> is set to <CODE>nil</CODE>, no tooltip will appear at all. <CODE>VS</CODE> must be a virtual string. </P></LI><LI><P><CODE>look:L</CODE> : Specifies a look to use for the widget. A look specifies default values for the parameters of widgets. This parameter can be specified at creation time only. Moreover changing a look will not change the appearance of widgets that are already displayed with that look. See <A href="node33.html#misc.look">Section&nbsp;6.2</A> for more details. </P></LI></UL><P> </P><H3><A name="label40">5.11.3 Interface</A></H3><P>The object you get by an handle on the widget implements the following methods : </P><UL><LI><P><CODE>set(parameter1:value1&nbsp;<SPAN class="keyword">...</SPAN>&nbsp;parameterX:valueX)</CODE> : Changes the value of one or more parameters. <CODE>parameterX</CODE> must be a valid parameter for the widget. <CODE>valueX</CODE> must be a valid value for the parameter. </P></LI><LI><P><CODE>get(parameter1:Variable1&nbsp;<SPAN class="keyword">...</SPAN>&nbsp;parameterX:VariableX)</CODE> : Obtains the value of one or more parameters. <CODE>parameterX</CODE> must be a valid parameter for the widget. <CODE>VariableX</CODE> must be free variables which will receive the current value of the parameters. </P></LI><LI><P><CODE>bind(event:E<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args:LA<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;action:A)</CODE> : Specifies an action <CODE>LA</CODE> to execute when the event <CODE>E</CODE> is triggered. The event can have parameters (like mouse coordinates for a mouse click). You must explicitly ask in the <CODE>LA</CODE> list the parameters you are interested for. For more details, see <A href="node4.html#basics.otherevents">Section&nbsp;4.3.3</A>. </P></LI><LI><P><CODE>getFocus(force:B)</CODE> : if <CODE>B</CODE> is <CODE><SPAN class="keyword">false</SPAN></CODE> (which is the default) : if the application currently has the input focus on window's display, this command resets the input focus for window's display to window. If the application doesn't currently have the input focus on window's display, window will be remembered as the focus for its top-level; the next time the focus arrives at the top-level, it will be redirected it to window. If <CODE>B</CODE> is <CODE><SPAN class="keyword">true</SPAN></CODE> : sets the focus of window's display to window, even if the application doesn't currently have the input focus for the display. This command should be used sparingly, if at all. In normal usage, an application should not claim the focus for itself; instead, it should wait for the window manager to give it the focus. <CODE>B</CODE> must be a boolean. </P></LI><LI><P><CODE>setGrab(global:B)</CODE> : Sets a grab on the widget. If <CODE>B</CODE> is <CODE><SPAN class="keyword">true</SPAN></CODE> then the grab is global, otherwise it is local (<CODE>B</CODE> false by default). If a grab was already in effect for this application then it is automatically released. If there is already a grab on the widget and it has the same global/local form as the requested grab, then the command does nothing. Local grab affects only the grabbing application: events will be reported to other applications as if the grab had never occurred. A global grab locks out all applications on the screen, so that only the given subtree of the grabbing application will be sensitive to pointer events (mouse button presses, mouse button releases, pointer motions, window entries, and window exits). During global grabs the window manager will not receive pointer events either. Warning : whe a grab is set, it is define for the whole Oz process so that it will prevent the user to do input to other windows as well. Moreover a grab is still effective even if the window that contains the grabbed widgets is hidden. <CODE>B</CODE> must be a boolean. </P></LI><LI><P><CODE>releaseGrab</CODE> : Releases the grab on the widget if there is one, otherwise does nothing. </P></LI><LI><P><CODE>getGrabStatus(1:V)</CODE> : Binds <CODE>V</CODE> to the atom <CODE>none</CODE> if there is no grab on the widget, to the atom <CODE><SPAN class="keyword">local</SPAN></CODE> if there is a local grab and to <CODE>global</CODE> if there is a global grab. <CODE>V</CODE> must be a free variable. </P></LI><LI><P><CODE><SPAN class="string">'raise'</SPAN>(1:W)</CODE> : If the <CODE>W</CODE> argument is omitted then the command raises the widget so that it is above all of its siblings in the stacking order (it will not be obscured by any siblings and will obscure any siblings that overlap it). If <CODE>W</CODE> is specified then it must be an handle to another widget that is either a sibling of this widget or the descendant of a sibling of this widget. In this case the <CODE><SPAN class="string">'raise'</SPAN></CODE> command will insert this widget into the stacking order just above <CODE>W</CODE>; this could end up either raising or lowering window. </P></LI><LI><P><CODE>lower(1:W)</CODE> : If the <CODE>W</CODE> argument is omitted then the command lowers the widget so that it is below all of its siblings in the stacking order (it will be obscured by any siblings and will not obscure any siblings that overlap it). If <CODE>W</CODE> is specified then it must be an handle to another widget that is either a sibling of this widget or the descendant of a sibling of this widget. In this case the <CODE>lower</CODE> command will insert this widget into the stacking order just below <CODE>W</CODE>; this could end up either raising or lowering window. </P></LI><LI><P><CODE>winfo(parameter1:value1&nbsp;<SPAN class="keyword">...</SPAN>&nbsp;parameterX:valueX)</CODE> : This commands works like the <CODE>get</CODE> method, but for window-related information. For more details, see <A href="node40.html#misc.winfo">Section&nbsp;6.9</A>. </P></LI><LI><P><CODE>delta(X&nbsp;Y&nbsp;V)</CODE> : Binds <CODE>V</CODE> to a real number indicating the fractional change in the scrollbar setting that corresponds to a given change in slider position. For example, if the scrollbar is horizontal, the result indicates how much the scrollbar setting must change to move the slider <CODE>X</CODE> pixels to the right (<CODE>Y</CODE> is ignored in this case). If the scrollbar is vertical, the result indicates how much the scrollbar setting must change to move the slider <CODE>Y</CODE> pixels down. </P></LI><LI><P><CODE>fraction(X&nbsp;Y&nbsp;V)</CODE>: Binds <CODE>V</CODE> to a real number between 0 and 1 indicating where the point given by <CODE>X</CODE> and <CODE>Y</CODE> lies in the trough area of the scrollbar. The value 0 corresponds to the top or left of the trough, the value 1 corresponds to the bottom or right, 0.5 corresponds to the middle, and so on. <CODE>X</CODE> and <CODE>Y</CODE> must be pixel coordinates relative to the scrollbar widget. If <CODE>X</CODE> and <CODE>Y</CODE> refer to a point outside the trough, the closest point in the trough is used. </P></LI><LI><P><CODE>identify(X&nbsp;Y&nbsp;V)</CODE>: Binds <CODE>V</CODE> to the name of the element under the point given by <CODE>X</CODE> and <CODE>Y</CODE> (such as <CODE>arrow1</CODE>), or an empty string if the point does not lie in any element of the scrollbar. <CODE>X</CODE> and <CODE>y</CODE> must be pixel coordinates relative to the scrollbar widget. </P></LI></UL><P> </P></DIV><TABLE align="center" border="0" cellpadding="6" cellspacing="6" class="nav"><TR bgcolor="#DDDDDD"><TD><A href="node15.html#chapter.widgets.scale">&lt;&lt; Prev</A></TD><TD><A href="node5.html">- Up -</A></TD><TD><A href="node17.html#chapter.widgets.space">Next &gt;&gt;</A></TD></TR></TABLE><HR><ADDRESS>Donatien Grolaux<BR><SPAN class="version">Version 1.2.3 (20011129)</SPAN></ADDRESS></BODY></HTML>
